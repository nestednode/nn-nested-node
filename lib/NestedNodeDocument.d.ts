import EventEmitter = require('pkg/EventEmitter/EventEmitter');
import NestedNode = require('./NestedNode');
import NestedNodeRegistry = require('./NestedNodeRegistry');
import DocumentActions = require('./DocumentActions');
import SelectionMode = require('./SelectionMode');
import ClipboardProvider = require('./ClipboardProvider');
declare class NestedNodeDocument<D> extends EventEmitter implements NestedNodeRegistry<D>, DocumentActions {
    protected root: NestedNode<any>;
    data: D;
    protected getBlankNodeData(): D;
    protected isNodeDataBlank(data: D): boolean;
    protected nodeFieldDuplicator(data: D): D;
    private createNode(data?);
    private isBlankNode(node);
    private id;
    private nodeRegistry;
    private nodeRegistryCounter;
    registerNode(node: NestedNode<D>): string;
    unregisterNode(node: NestedNode<D>): void;
    getNodeById(id: string): NestedNode<D>;
    private focusedNode;
    private previouslyFocusedMap;
    private currentFocusLevel;
    focusNodeById(id: string, selectionMode: SelectionMode): void;
    focusParentNode(): void;
    focusNestedNode(): void;
    private getPreviouslyFocusedNested(parentNode);
    focusPrevNode(selectionMode: SelectionMode): void;
    focusNextNode(selectionMode: SelectionMode): void;
    private focusSiblingNode(direction, selectionMode);
    private focusNode(node, selectionMode?, updateFocusLevel?);
    private setFocusedNode(node, updateFocusLevel?);
    insertNewNode(): void;
    appendNewNodeBefore(): void;
    appendNewNodeAfter(): void;
    private appendNewNode(direction);
    envelopeNode(): void;
    removeNode(): void;
    moveNodeForward(): void;
    moveNodeBackward(): void;
    private rearrangeNode(direction);
    private clipboard;
    copyToClipboard(): void;
    cutToClipboard(): void;
    pasteFromClipboard(): void;
    private history;
    private executeCommand(cmd);
    undo(): void;
    redo(): void;
    private stepHistory(direction);
    constructor(data: D, clipboardProvider?: ClipboardProvider<D[]>);
}
export = NestedNodeDocument;
